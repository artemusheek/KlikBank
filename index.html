<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ë–∞–Ω–∫ "–§–∏–Ω–∞–Ω—Å–ü—Ä–æ" - –û–Ω–ª–∞–π–Ω –±–∞–Ω–∫–∏–Ω–≥</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Arial, sans-serif;
        }

        body {
            background: linear-gradient(135deg, #1a237e 0%, #283593 50%, #3949ab 100%);
            color: #fff;
            min-height: 100vh;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        /* –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è */
        .auth-container {
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            padding: 20px;
        }

        .auth-box {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 40px;
            width: 100%;
            max-width: 500px;
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.2);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        .auth-tabs {
            display: flex;
            margin-bottom: 30px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }

        .auth-tab {
            flex: 1;
            padding: 15px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s;
            font-weight: 600;
        }

        .auth-tab.active {
            color: #4fc3f7;
            border-bottom: 2px solid #4fc3f7;
        }

        .auth-form {
            display: none;
        }

        .auth-form.active {
            display: block;
        }

        .input-group {
            margin-bottom: 20px;
        }

        .input-group label {
            display: block;
            margin-bottom: 8px;
            color: #bbdefb;
        }

        .input-group input {
            width: 100%;
            padding: 15px;
            border-radius: 10px;
            border: 1px solid rgba(255, 255, 255, 0.2);
            background: rgba(255, 255, 255, 0.1);
            color: white;
            font-size: 16px;
        }

        .auth-btn {
            width: 100%;
            padding: 15px;
            background: linear-gradient(45deg, #4fc3f7, #2979ff);
            color: white;
            border: none;
            border-radius: 10px;
            font-size: 18px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            margin-top: 10px;
        }

        .auth-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 20px rgba(41, 121, 255, 0.3);
        }

        /* –û—Å–Ω–æ–≤–Ω–æ–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å */
        .main-interface {
            display: none;
        }

        header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 20px 0;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
            margin-bottom: 30px;
        }

        .logo {
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .logo i {
            font-size: 32px;
            color: #4fc3f7;
        }

        .logo h1 {
            font-size: 28px;
            font-weight: 700;
        }

        .user-menu {
            display: flex;
            align-items: center;
            gap: 20px;
        }

        .user-info {
            text-align: right;
        }

        .user-info .name {
            font-weight: 600;
            color: #4fc3f7;
            font-size: 18px;
        }

        .user-info .id {
            font-size: 14px;
            color: #bbdefb;
            margin-top: 2px;
        }

        .logout-btn {
            background: rgba(255, 255, 255, 0.1);
            border: none;
            color: white;
            padding: 10px 20px;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s;
        }

        .logout-btn:hover {
            background: rgba(255, 255, 255, 0.2);
        }

        .balance-card {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 25px;
            text-align: center;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
            margin-bottom: 30px;
            border: 1px solid rgba(255, 255, 255, 0.2);
            position: relative;
        }

        .balance-card h2 {
            font-size: 18px;
            margin-bottom: 10px;
            color: #bbdefb;
        }

        .balance-amount {
            font-size: 48px;
            font-weight: 700;
            color: #4fc3f7;
            text-shadow: 0 0 10px rgba(79, 195, 247, 0.5);
        }

        /* –°–µ–∫—Ä–µ—Ç–Ω—ã–µ –∫–Ω–æ–ø–∫–∏ –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞ */
        .dev-buttons {
            position: absolute;
            top: 15px;
            right: 15px;
            display: flex;
            gap: 5px;
        }

        .dev-btn {
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
            color: white;
            padding: 5px 10px;
            border-radius: 6px;
            cursor: pointer;
            font-size: 11px;
            transition: all 0.3s;
        }

        .dev-btn:hover {
            background: rgba(255, 255, 255, 0.2);
        }

        .dev-btn.add-money {
            background: rgba(76, 175, 80, 0.2);
            border-color: rgba(76, 175, 80, 0.4);
        }

        .dev-btn.max-upgrade {
            background: rgba(156, 39, 176, 0.2);
            border-color: rgba(156, 39, 176, 0.4);
        }

        .main-content {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
            margin-bottom: 40px;
        }

        @media (max-width: 768px) {
            .main-content {
                grid-template-columns: 1fr;
            }
        }

        .panel {
            background: rgba(255, 255, 255, 0.08);
            border-radius: 20px;
            padding: 25px;
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.15);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .panel h3 {
            font-size: 22px;
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            gap: 10px;
            color: #bbdefb;
        }

        .clicker-area {
            text-align: center;
            padding: 20px;
        }

        #clickButton {
            background: linear-gradient(45deg, #4fc3f7, #2979ff);
            border: none;
            border-radius: 50%;
            width: 200px;
            height: 200px;
            font-size: 24px;
            color: white;
            cursor: pointer;
            transition: all 0.2s;
            box-shadow: 0 10px 20px rgba(41, 121, 255, 0.3);
            margin: 20px 0;
        }

        #clickButton:hover {
            transform: scale(1.05);
            box-shadow: 0 15px 25px rgba(41, 121, 255, 0.4);
        }

        .clicker-info {
            display: flex;
            justify-content: space-around;
            margin-top: 20px;
        }

        .click-stat {
            text-align: center;
        }

        .click-stat h4 {
            font-size: 16px;
            color: #bbdefb;
            margin-bottom: 5px;
        }

        .click-stat p {
            font-size: 24px;
            font-weight: 600;
            color: #4fc3f7;
        }

        .transfer-form {
            display: flex;
            flex-direction: column;
            gap: 20px;
        }

        .form-group {
            display: flex;
            flex-direction: column;
            gap: 8px;
        }

        .form-group label {
            font-size: 16px;
            color: #bbdefb;
        }

        input, select {
            padding: 15px;
            border-radius: 10px;
            border: 1px solid rgba(255, 255, 255, 0.2);
            background: rgba(255, 255, 255, 0.1);
            color: white;
            font-size: 16px;
        }

        button {
            padding: 15px 30px;
            border-radius: 10px;
            border: none;
            background: linear-gradient(45deg, #4caf50, #2e7d32);
            color: white;
            font-size: 18px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            margin-top: 10px;
        }

        button:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 20px rgba(46, 125, 50, 0.3);
        }

        .transactions {
            margin-top: 30px;
        }

        .transactions h3 {
            margin-bottom: 15px;
        }

        #transactionsList {
            list-style-type: none;
            max-height: 300px;
            overflow-y: auto;
        }

        .transaction-item {
            background: rgba(255, 255, 255, 0.05);
            padding: 15px;
            border-radius: 10px;
            margin-bottom: 10px;
            border-left: 4px solid #4fc3f7;
            display: flex;
            justify-content: space-between;
        }

        .transaction-item.debit {
            border-left-color: #f44336;
        }

        .transaction-item.credit {
            border-left-color: #4caf50;
        }

        .notification {
            position: fixed;
            top: 20px;
            right: 20px;
            padding: 15px 25px;
            border-radius: 10px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
            transform: translateX(150%);
            transition: transform 0.5s ease;
            z-index: 1000;
        }

        .notification.success {
            background: #4caf50;
            color: white;
        }

        .notification.error {
            background: #f44336;
            color: white;
        }

        .notification.info {
            background: #2196f3;
            color: white;
        }

        .notification.show {
            transform: translateX(0);
        }

        .upgrades {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
            gap: 15px;
            margin-top: 20px;
        }

        .upgrade-item {
            background: rgba(255, 255, 255, 0.08);
            padding: 15px;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .upgrade-item:hover:not(.disabled) {
            background: rgba(255, 255, 255, 0.12);
            transform: translateY(-5px);
        }

        .upgrade-item.disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }

        .upgrade-name {
            font-weight: 600;
            color: #4fc3f7;
        }

        .upgrade-cost {
            color: #ffb74d;
            margin-top: 5px;
        }

        .upgrade-income {
            color: #4caf50;
            margin-top: 5px;
        }

        .upgrade-level {
            color: #bb86fc;
            margin-top: 5px;
            font-size: 14px;
        }

        .search-section {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 15px;
            padding: 20px;
            margin-bottom: 20px;
        }

        .search-box {
            display: flex;
            gap: 10px;
            margin-bottom: 15px;
        }

        .search-box input {
            flex: 1;
            padding: 12px;
            border-radius: 8px;
            border: 1px solid rgba(255, 255, 255, 0.2);
            background: rgba(255, 255, 255, 0.1);
            color: white;
        }

        .search-btn {
            padding: 12px 20px;
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
            color: white;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s;
        }

        .search-btn:hover {
            background: rgba(255, 255, 255, 0.2);
        }

        .search-results {
            max-height: 200px;
            overflow-y: auto;
            border-radius: 10px;
            background: rgba(0, 0, 0, 0.2);
            padding: 10px;
        }

        .user-result {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 12px;
            margin-bottom: 8px;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s;
            border: 1px solid transparent;
        }

        .user-result:hover {
            background: rgba(255, 255, 255, 0.1);
            border-color: rgba(79, 195, 247, 0.3);
        }

        .user-result.selected {
            background: rgba(79, 195, 247, 0.15);
            border-color: #4fc3f7;
        }

        .user-result-info {
            flex: 1;
        }

        .user-result-name {
            font-weight: 600;
            color: #4fc3f7;
            font-size: 16px;
        }

        .user-result-id {
            font-size: 12px;
            color: #bbdefb;
            margin-top: 2px;
            font-family: monospace;
        }

        .user-result-balance {
            color: #ffb74d;
            font-weight: 600;
            margin-left: 15px;
            font-size: 16px;
        }

        .empty-state {
            text-align: center;
            padding: 30px;
            color: #bbdefb;
        }

        .empty-state i {
            font-size: 48px;
            margin-bottom: 15px;
            opacity: 0.5;
        }

        .selected-user-display {
            background: rgba(79, 195, 247, 0.1);
            border-radius: 10px;
            padding: 15px;
            margin: 15px 0;
            border: 1px solid rgba(79, 195, 247, 0.3);
        }

        .selected-user-info {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .selected-user-text {
            font-weight: 600;
            color: #4fc3f7;
        }

        .selected-user-id {
            font-size: 12px;
            color: #bbdefb;
            font-family: monospace;
        }

        .clear-selection {
            background: rgba(255, 255, 255, 0.1);
            border: none;
            color: white;
            padding: 5px 10px;
            border-radius: 5px;
            cursor: pointer;
            font-size: 12px;
        }

        .refresh-btn {
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
            color: white;
            padding: 10px 15px;
            border-radius: 8px;
            cursor: pointer;
            margin-left: 10px;
            transition: all 0.3s;
        }
        
        .refresh-btn:hover {
            background: rgba(255, 255, 255, 0.2);
        }
        
        .panel-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }

        footer {
            text-align: center;
            padding: 30px 0;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
            margin-top: 30px;
            color: #bbdefb;
        }
    </style>
</head>
<body>
    <!-- –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è -->
    <div class="auth-container" id="authContainer">
        <div class="auth-box">
            <div class="auth-tabs">
                <div class="auth-tab active" onclick="showAuthForm('login')">–í—Ö–æ–¥</div>
                <div class="auth-tab" onclick="showAuthForm('register')">–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è</div>
            </div>
            
            <form class="auth-form active" id="loginForm">
                <div class="input-group">
                    <label for="loginName">–ò–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è</label>
                    <input type="text" id="loginName" required placeholder="–í–≤–µ–¥–∏—Ç–µ –≤–∞—à–µ –∏–º—è">
                </div>
                
                <div class="input-group">
                    <label for="loginPassword">–ü–∞—Ä–æ–ª—å</label>
                    <input type="password" id="loginPassword" required>
                </div>
                
                <button type="submit" class="auth-btn">–í–æ–π—Ç–∏</button>
            </form>
            
            <form class="auth-form" id="registerForm">
                <div class="input-group">
                    <label for="registerName">–ò–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è</label>
                    <input type="text" id="registerName" required placeholder="–ü—Ä–∏–¥—É–º–∞–π—Ç–µ —É–Ω–∏–∫–∞–ª—å–Ω–æ–µ –∏–º—è">
                    <small style="color: #bbdefb; font-size: 12px; margin-top: 5px;">–≠—Ç–æ –∏–º—è –±—É–¥–µ—Ç –≤–∏–¥–Ω–æ –¥—Ä—É–≥–∏–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º</small>
                </div>
                
                <div class="input-group">
                    <label for="registerPassword">–ü–∞—Ä–æ–ª—å</label>
                    <input type="password" id="registerPassword" minlength="6" required>
                </div>
                
                <div class="input-group">
                    <label for="registerConfirmPassword">–ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç–µ –ø–∞—Ä–æ–ª—å</label>
                    <input type="password" id="registerConfirmPassword" required>
                </div>
                
                <button type="submit" class="auth-btn">–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è</button>
            </form>
        </div>
    </div>

    <!-- –û—Å–Ω–æ–≤–Ω–æ–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å -->
    <div class="main-interface" id="mainInterface">
        <div class="container">
            <header>
                <div class="logo">
                    <i class="fas fa-university"></i>
                    <h1>–ë–∞–Ω–∫ "–§–∏–Ω–∞–Ω—Å–ü—Ä–æ"</h1>
                </div>
                <div class="user-menu">
                    <div class="user-info">
                        <div class="name" id="userName">–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å</div>
                        <div class="id" id="userId">ID: ---</div>
                    </div>
                    <button class="logout-btn" onclick="logout()">
                        <i class="fas fa-sign-out-alt"></i> –í—ã–π—Ç–∏
                    </button>
                </div>
            </header>

            <div class="balance-card">
                <div class="dev-buttons">
                </div>
                <h2>–í–∞—à –±–∞–ª–∞–Ω—Å</h2>
                <div class="balance-amount" id="balance">1 000 ‚ÇΩ</div>
            </div>

            <div class="main-content">
                <div class="panel">
                    <div class="panel-header">
                        <h3><i class="fas fa-mouse-pointer"></i> –ó–∞—Ä–∞–±–æ—Ç–æ–∫ –∫–ª–∏–∫–∞–º–∏</h3>
                        <button class="refresh-btn" onclick="updateUserData()">
                            <i class="fas fa-sync-alt"></i> –û–±–Ω–æ–≤–∏—Ç—å
                        </button>
                    </div>
                    <div class="clicker-area">
                        <p>–ö–ª–∏–∫–∞–π—Ç–µ –Ω–∞ –∫–Ω–æ–ø–∫—É, —á—Ç–æ–±—ã –∑–∞—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –¥–µ–Ω—å–≥–∏</p>
                        <button id="clickButton">
                            <i class="fas fa-coins"></i><br>
                            –ö–ª–∏–∫–Ω—É—Ç—å!
                        </button>
                        <div class="clicker-info">
                            <div class="click-stat">
                                <h4>–ö–ª–∏–∫–æ–≤</h4>
                                <p id="clickCount">0</p>
                            </div>
                            <div class="click-stat">
                                <h4>–î–æ—Ö–æ–¥ –∑–∞ –∫–ª–∏–∫</h4>
                                <p id="incomePerClick">1 ‚ÇΩ</p>
                            </div>
                            <div class="click-stat">
                                <h4>–ü–∞—Å—Å–∏–≤–Ω—ã–π –¥–æ—Ö–æ–¥</h4>
                                <p id="passiveIncome">0 ‚ÇΩ/—Å–µ–∫</p>
                            </div>
                        </div>
                    </div>
                    
                    <h3 style="margin-top: 30px;"><i class="fas fa-chart-line"></i> –£–ª—É—á—à–µ–Ω–∏—è</h3>
                    <div class="upgrades" id="upgradesContainer">
                        <!-- –£–ª—É—á—à–µ–Ω–∏—è –±—É–¥—É—Ç –¥–æ–±–∞–≤–ª–µ–Ω—ã —á–µ—Ä–µ–∑ JavaScript -->
                    </div>
                </div>

                <div class="panel">
                    <h3><i class="fas fa-exchange-alt"></i> –ü–µ—Ä–µ–≤–æ–¥ —Å—Ä–µ–¥—Å—Ç–≤</h3>
                    
                    <!-- –°–µ–∫—Ü–∏—è –ø–æ–∏—Å–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π -->
                    <div class="search-section">
                        <div class="search-box">
                            <input type="text" id="searchInput" placeholder="–í–≤–µ–¥–∏—Ç–µ –∏–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –¥–ª—è –ø–æ–∏—Å–∫–∞...">
                            <button type="button" class="search-btn" onclick="searchUsers()">
                                <i class="fas fa-search"></i> –ù–∞–π—Ç–∏
                            </button>
                        </div>
                        
                        <div id="searchResults" class="search-results">
                            <div class="empty-state">
                                <i class="fas fa-search"></i>
                                <p>–ù–∞—á–Ω–∏—Ç–µ –ø–æ–∏—Å–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π</p>
                                <p style="font-size: 14px; margin-top: 10px;">–í–≤–µ–¥–∏—Ç–µ –∏–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏ –Ω–∞–∂–º–∏—Ç–µ "–ù–∞–π—Ç–∏"</p>
                            </div>
                        </div>
                        
                        <div id="selectedUserDisplay" style="display: none;">
                            <!-- –í—ã–±—Ä–∞–Ω–Ω—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –±—É–¥–µ—Ç –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å—Å—è –∑–¥–µ—Å—å -->
                        </div>
                    </div>
                    
                    <!-- –§–æ—Ä–º–∞ –ø–µ—Ä–µ–≤–æ–¥–∞ -->
                    <form class="transfer-form" id="transferForm">
                        <input type="hidden" id="recipientId">
                        
                        <div class="form-group">
                            <label for="amount">–°—É–º–º–∞ –ø–µ—Ä–µ–≤–æ–¥–∞ (‚ÇΩ)</label>
                            <input type="number" id="amount" min="1" required placeholder="–í–≤–µ–¥–∏—Ç–µ —Å—É–º–º—É">
                        </div>
                        
                        <div class="form-group">
                            <label for="message">–°–æ–æ–±—â–µ–Ω–∏–µ –ø–æ–ª—É—á–∞—Ç–µ–ª—é</label>
                            <input type="text" id="message" placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: –ó–∞ –æ–±–µ–¥">
                        </div>
                        
                        <button type="submit" id="transferBtn" disabled>
                            <i class="fas fa-paper-plane"></i> –í—ã–±–µ—Ä–∏—Ç–µ –ø–æ–ª—É—á–∞—Ç–µ–ª—è
                        </button>
                    </form>

                    <div class="transactions">
                        <h3><i class="fas fa-history"></i> –ò—Å—Ç–æ—Ä–∏—è –æ–ø–µ—Ä–∞—Ü–∏–π</h3>
                        <ul id="transactionsList">
                            <!-- –¢—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ –±—É–¥—É—Ç –¥–æ–±–∞–≤–ª—è—Ç—å—Å—è –∑–¥–µ—Å—å -->
                        </ul>
                    </div>
                </div>
            </div>

            <footer>
                <p>–ë–∞–Ω–∫ "–§–∏–Ω–∞–Ω—Å–ü—Ä–æ" ¬© 2023. –í—Å–µ –ø—Ä–∞–≤–∞ –∑–∞—â–∏—â–µ–Ω—ã.</p>
                <p>–ö—Ä—É–≥–ª–æ—Å—É—Ç–æ—á–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞: 8-800-123-45-67</p>
                <p>–í—Å–µ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π: <span id="totalUsers">0</span></p>
                <p style="margin-top: 10px; font-size: 12px; color: #90caf9;">
                    üí° <strong>–ü–æ–¥—Å–∫–∞–∑–∫–∞:</strong> –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–Ω–æ–ø–∫–∏ –Ω–∞–¥ –±–∞–ª–∞–Ω—Å–æ–º –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –¥–µ–Ω–µ–≥
                </p>
            </footer>
        </div>
    </div>

    <!-- –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ -->
    <div class="notification" id="notification"></div>

    <script>
        // –û–ë–©–ê–Ø –ë–ê–ù–ö–û–í–°–ö–ê–Ø –°–ò–°–¢–ï–ú–ê
        const BANK_STORAGE_KEY = 'bank_system_simple';
        
        // –£–ª—É—á—à–µ–Ω–∏—è —Å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å—é –º–Ω–æ–≥–æ–∫—Ä–∞—Ç–Ω–æ–π –ø–æ–∫—É–ø–∫–∏
        const UPGRADES = [
            { 
                id: 1, 
                name: "–£–ª—É—á—à–µ–Ω–Ω–∞—è –º—ã—à—å", 
                baseCost: 50, 
                costMultiplier: 1.15,
                incomeIncrease: 1, 
                type: "click",
                maxLevel: 100
            },
            { 
                id: 2, 
                name: "–ü—Ä–æ—Ü–µ—Å—Å–æ—Ä –¥–ª—è –º–∞–π–Ω–∏–Ω–≥–∞", 
                baseCost: 200, 
                costMultiplier: 1.2,
                incomeIncrease: 5, 
                type: "click",
                maxLevel: 50
            },
            { 
                id: 3, 
                name: "–ë–∞–Ω–∫–æ–≤—Å–∫–∏–π –≤–∫–ª–∞–¥", 
                baseCost: 500, 
                costMultiplier: 1.25,
                incomeIncrease: 2, 
                type: "passive",
                maxLevel: 30
            },
            { 
                id: 4, 
                name: "–ò–Ω–≤–µ—Å—Ç–∏—Ü–∏–æ–Ω–Ω—ã–π —Ñ–æ–Ω–¥", 
                baseCost: 1000, 
                costMultiplier: 1.3,
                incomeIncrease: 10, 
                type: "passive",
                maxLevel: 20
            },
            { 
                id: 5, 
                name: "–ö—Ä–∏–ø—Ç–æ—Ñ–µ—Ä–º–∞", 
                baseCost: 5000, 
                costMultiplier: 1.4,
                incomeIncrease: 50, 
                type: "passive",
                maxLevel: 10
            }
        ];

        // –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —É–Ω–∏–∫–∞–ª—å–Ω–æ–≥–æ ID
        function generateUserId() {
            return 'user_' + Date.now() + '_' + Math.random().toString(36).substr(2, 9);
        }

        // –§—É–Ω–∫—Ü–∏–∏ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å —Ö—Ä–∞–Ω–∏–ª–∏—â–µ–º
        function getBankData() {
            const data = localStorage.getItem(BANK_STORAGE_KEY);
            if (!data) {
                const initialData = {
                    users: [],
                    transactions: []
                };
                localStorage.setItem(BANK_STORAGE_KEY, JSON.stringify(initialData));
                return initialData;
            }
            return JSON.parse(data);
        }

        function saveBankData(data) {
            localStorage.setItem(BANK_STORAGE_KEY, JSON.stringify(data));
        }

        function updateUserInStorage(userId, updates) {
            const bankData = getBankData();
            const userIndex = bankData.users.findIndex(u => u.id === userId);
            
            if (userIndex !== -1) {
                bankData.users[userIndex] = { 
                    ...bankData.users[userIndex], 
                    ...updates,
                    lastUpdate: Date.now()
                };
                saveBankData(bankData);
                return bankData.users[userIndex];
            }
            return null;
        }

        function getUserFromStorage(userId) {
            const bankData = getBankData();
            return bankData.users.find(u => u.id === userId);
        }

        function getAllUsersFromStorage() {
            return getBankData().users;
        }

        function addTransactionToStorage(transaction) {
            const bankData = getBankData();
            bankData.transactions.push({
                ...transaction,
                id: Date.now().toString(),
                timestamp: new Date().toISOString()
            });
            saveBankData(bankData);
        }

        function getUserTransactionsFromStorage(userId) {
            const bankData = getBankData();
            return bankData.transactions
                .filter(t => t.senderId === userId || t.recipientId === userId)
                .sort((a, b) => new Date(b.timestamp) - new Date(a.timestamp));
        }

        // –¢–µ–∫—É—â–∏–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å
        let currentUser = null;
        let selectedUser = null;

        // DOM —ç–ª–µ–º–µ–Ω—Ç—ã
        const authContainer = document.getElementById('authContainer');
        const mainInterface = document.getElementById('mainInterface');
        const loginForm = document.getElementById('loginForm');
        const registerForm = document.getElementById('registerForm');
        const notification = document.getElementById('notification');

        // –§–£–ù–ö–¶–ò–ò –î–õ–Ø –î–û–ë–ê–í–õ–ï–ù–ò–Ø –î–ï–ù–ï–ì - –û–ù–ò –†–ê–ë–û–¢–ê–Æ–¢!
        window.addMoney = function(amount = 10000) {
            if (!currentUser) {
                showNotification('–°–Ω–∞—á–∞–ª–∞ –≤–æ–π–¥–∏—Ç–µ –≤ —Å–∏—Å—Ç–µ–º—É!', 'error');
                return;
            }
            
            const updatedUser = updateUserInStorage(currentUser.id, {
                balance: currentUser.balance + amount
            });
            
            if (updatedUser) {
                const { password: _, ...userWithoutPassword } = updatedUser;
                currentUser = userWithoutPassword;
                updateUserData();
                showNotification(`‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–æ ${amount.toLocaleString('ru-RU')}‚ÇΩ!`, 'success');
            }
        };

        window.add1000 = function() { addMoney(1000); };
        window.add5000 = function() { addMoney(5000); };
        window.add10000 = function() { addMoney(10000); };
        window.add50000 = function() { addMoney(50000); };

        window.maxUpgrades = function() {
            if (!currentUser) {
                showNotification('–°–Ω–∞—á–∞–ª–∞ –≤–æ–π–¥–∏—Ç–µ –≤ —Å–∏—Å—Ç–µ–º—É!', 'error');
                return;
            }
            
            // –î–æ–±–∞–≤–ª—è–µ–º –º–Ω–æ–≥–æ –¥–µ–Ω–µ–≥
            addMoney(1000000);
            
            // –ü–æ–∫—É–ø–∞–µ–º –º–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–µ —É—Ä–æ–≤–Ω–∏ –≤—Å–µ—Ö —É–ª—É—á—à–µ–Ω–∏–π
            UPGRADES.forEach(upgrade => {
                const level = currentUser.upgrades[upgrade.id] || 0;
                const maxLevel = upgrade.maxLevel;
                
                if (level < maxLevel) {
                    const levelsToAdd = maxLevel - level;
                    
                    if (upgrade.type === 'click') {
                        currentUser.incomePerClick += upgrade.incomeIncrease * levelsToAdd;
                    } else {
                        currentUser.passiveIncome += upgrade.incomeIncrease * levelsToAdd;
                    }
                    
                    currentUser.upgrades[upgrade.id] = maxLevel;
                }
            });
            
            // –°–æ—Ö—Ä–∞–Ω—è–µ–º –∏–∑–º–µ–Ω–µ–Ω–∏—è
            updateUserInStorage(currentUser.id, {
                balance: currentUser.balance,
                incomePerClick: currentUser.incomePerClick,
                passiveIncome: currentUser.passiveIncome,
                upgrades: currentUser.upgrades
            });
            
            updateUserData();
            showNotification('üéÆ –í—Å–µ —É–ª—É—á—à–µ–Ω–∏—è –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ –ø—Ä–æ–∫–∞—á–∞–Ω—ã!', 'success');
        };

        // –§—É–Ω–∫—Ü–∏–∏ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏
        function showAuthForm(formType) {
            document.querySelectorAll('.auth-tab').forEach(tab => tab.classList.remove('active'));
            document.querySelectorAll('.auth-form').forEach(form => form.classList.remove('active'));
            
            if (formType === 'login') {
                document.querySelectorAll('.auth-tab')[0].classList.add('active');
                loginForm.classList.add('active');
            } else {
                document.querySelectorAll('.auth-tab')[1].classList.add('active');
                registerForm.classList.add('active');
            }
        }

        function showNotification(message, type = 'success') {
            notification.textContent = message;
            notification.className = `notification ${type} show`;
            
            setTimeout(() => {
                notification.classList.remove('show');
            }, 3000);
        }

        function loginUser(name, password) {
            const bankData = getBankData();
            const user = bankData.users.find(u => u.name === name && u.password === password);
            
            if (!user) {
                showNotification('–ù–µ–≤–µ—Ä–Ω–æ–µ –∏–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏–ª–∏ –ø–∞—Ä–æ–ª—å', 'error');
                return false;
            }
            
            const { password: _, ...userWithoutPassword } = user;
            currentUser = userWithoutPassword;
            localStorage.setItem('currentUserId', user.id);
            
            showMainInterface();
            showNotification(`–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å, ${user.name}!`, 'info');
            return true;
        }

        function registerUser(name, password, confirmPassword) {
            if (!name || name.trim().length < 3) {
                showNotification('–ò–º—è –¥–æ–ª–∂–Ω–æ —Å–æ–¥–µ—Ä–∂–∞—Ç—å –º–∏–Ω–∏–º—É–º 3 —Å–∏–º–≤–æ–ª–∞', 'error');
                return false;
            }
            
            if (password !== confirmPassword) {
                showNotification('–ü–∞—Ä–æ–ª–∏ –Ω–µ —Å–æ–≤–ø–∞–¥–∞—é—Ç', 'error');
                return false;
            }
            
            if (password.length < 6) {
                showNotification('–ü–∞—Ä–æ–ª—å –¥–æ–ª–∂–µ–Ω —Å–æ–¥–µ—Ä–∂–∞—Ç—å –º–∏–Ω–∏–º—É–º 6 —Å–∏–º–≤–æ–ª–æ–≤', 'error');
                return false;
            }
            
            const bankData = getBankData();
            
            // –ü—Ä–æ–≤–µ—Ä—è–µ–º —É–Ω–∏–∫–∞–ª—å–Ω–æ—Å—Ç—å –∏–º–µ–Ω–∏
            if (bankData.users.find(u => u.name.toLowerCase() === name.toLowerCase())) {
                showNotification('–≠—Ç–æ –∏–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —É–∂–µ –∑–∞–Ω—è—Ç–æ', 'error');
                return false;
            }
            
            // –°–æ–∑–¥–∞–µ–º –Ω–æ–≤–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
            const newUser = {
                id: generateUserId(),
                name: name.trim(),
                password,
                balance: 1000,
                clickCount: 0,
                incomePerClick: 1,
                passiveIncome: 0,
                upgrades: {},
                lastUpdate: Date.now(),
                registeredAt: new Date().toISOString()
            };
            
            bankData.users.push(newUser);
            saveBankData(bankData);
            
            showNotification(`–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è —É—Å–ø–µ—à–Ω–∞! –î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å, ${name}!`, 'success');
            
            // –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤—Ö–æ–¥–∏–º –ø–æ—Å–ª–µ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏
            const { password: _, ...userWithoutPassword } = newUser;
            currentUser = userWithoutPassword;
            localStorage.setItem('currentUserId', newUser.id);
            showMainInterface();
            
            return true;
        }

        function showMainInterface() {
            authContainer.style.display = 'none';
            mainInterface.style.display = 'block';
            
            updateUserData();
            loadTransactions();
            initUpgrades();
            updateTotalUsers();
            
            startPassiveIncome();
        }

        function updateUserData() {
            if (!currentUser) return;
            
            const updatedUser = getUserFromStorage(currentUser.id);
            if (updatedUser) {
                const { password: _, ...userWithoutPassword } = updatedUser;
                currentUser = userWithoutPassword;
            }
            
            document.getElementById('userName').textContent = currentUser.name;
            document.getElementById('userId').textContent = `ID: ${currentUser.id.substring(0, 12)}...`;
            document.getElementById('balance').textContent = `${currentUser.balance.toLocaleString('ru-RU')} ‚ÇΩ`;
            document.getElementById('clickCount').textContent = currentUser.clickCount.toLocaleString('ru-RU');
            document.getElementById('incomePerClick').textContent = `${currentUser.incomePerClick} ‚ÇΩ`;
            document.getElementById('passiveIncome').textContent = `${currentUser.passiveIncome} ‚ÇΩ/—Å–µ–∫`;
            
            initUpgrades();
        }

        function updateTotalUsers() {
            const allUsers = getAllUsersFromStorage();
            document.getElementById('totalUsers').textContent = allUsers.length;
        }

        function searchUsers() {
            const searchTerm = document.getElementById('searchInput').value.trim().toLowerCase();
            const searchResults = document.getElementById('searchResults');
            
            if (!searchTerm) {
                searchResults.innerHTML = `
                    <div class="empty-state">
                        <i class="fas fa-search"></i>
                        <p>–í–≤–µ–¥–∏—Ç–µ –∏–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –¥–ª—è –ø–æ–∏—Å–∫–∞</p>
                    </div>`;
                return;
            }
            
            const allUsers = getAllUsersFromStorage();
            const filteredUsers = allUsers.filter(user => 
                user.id !== currentUser?.id && 
                user.name.toLowerCase().includes(searchTerm)
            );
            
            if (filteredUsers.length === 0) {
                searchResults.innerHTML = `
                    <div class="empty-state">
                        <i class="fas fa-user-times"></i>
                        <p>–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –Ω–µ –Ω–∞–π–¥–µ–Ω—ã</p>
                        <p style="font-size: 14px; margin-top: 10px;">–ü–æ–ø—Ä–æ–±—É–π—Ç–µ –¥—Ä—É–≥–æ–π –∑–∞–ø—Ä–æ—Å</p>
                    </div>`;
                return;
            }
            
            searchResults.innerHTML = '';
            filteredUsers.forEach(user => {
                const userResult = document.createElement('div');
                userResult.className = 'user-result';
                userResult.innerHTML = `
                    <div class="user-result-info">
                        <div class="user-result-name">${user.name}</div>
                        <div class="user-result-id">ID: ${user.id.substring(0, 12)}...</div>
                    </div>
                    <div class="user-result-balance">${user.balance.toLocaleString('ru-RU')} ‚ÇΩ</div>
                `;
                
                userResult.addEventListener('click', () => {
                    selectUser(user);
                    document.querySelectorAll('.user-result').forEach(r => r.classList.remove('selected'));
                    userResult.classList.add('selected');
                });
                
                searchResults.appendChild(userResult);
            });
        }

        function selectUser(user) {
            selectedUser = user;
            
            const selectedUserDisplay = document.getElementById('selectedUserDisplay');
            selectedUserDisplay.style.display = 'block';
            selectedUserDisplay.innerHTML = `
                <div class="selected-user-info">
                    <div>
                        <div class="selected-user-text">–ü–æ–ª—É—á–∞—Ç–µ–ª—å: ${user.name}</div>
                        <div class="selected-user-id">ID: ${user.id.substring(0, 12)}...</div>
                    </div>
                    <div>
                        <div style="color: #ffb74d; font-weight: 600;">${user.balance.toLocaleString('ru-RU')} ‚ÇΩ</div>
                        <button type="button" class="clear-selection" onclick="clearSelection()">
                            <i class="fas fa-times"></i> –ò–∑–º–µ–Ω–∏—Ç—å
                        </button>
                    </div>
                </div>
            `;
            
            document.getElementById('recipientId').value = user.id;
            document.getElementById('transferBtn').disabled = false;
            document.getElementById('transferBtn').innerHTML = `<i class="fas fa-paper-plane"></i> –ü–µ—Ä–µ–≤–µ—Å—Ç–∏ ${user.name}`;
            
            document.getElementById('amount').focus();
        }

        function clearSelection() {
            selectedUser = null;
            document.getElementById('selectedUserDisplay').style.display = 'none';
            document.getElementById('recipientId').value = '';
            document.getElementById('transferBtn').disabled = true;
            document.getElementById('transferBtn').innerHTML = `<i class="fas fa-paper-plane"></i> –í—ã–±–µ—Ä–∏—Ç–µ –ø–æ–ª—É—á–∞—Ç–µ–ª—è`;
            document.getElementById('searchInput').focus();
        }

        function loadTransactions() {
            const transactionsList = document.getElementById('transactionsList');
            transactionsList.innerHTML = '';
            
            if (!currentUser) return;
            
            const transactions = getUserTransactionsFromStorage(currentUser.id);
            
            if (transactions.length === 0) {
                transactionsList.innerHTML = `
                    <li class="empty-state" style="padding: 20px; text-align: center;">
                        <i class="fas fa-exchange-alt"></i>
                        <p>–ù–µ—Ç –æ–ø–µ—Ä–∞—Ü–∏–π</p>
                        <p style="font-size: 14px; margin-top: 10px;">–ù–∞—á–Ω–∏—Ç–µ —Å –ø–µ—Ä–µ–≤–æ–¥–∞ –¥—Ä—É–≥—É!</p>
                    </li>`;
                return;
            }
            
            transactions.forEach(transaction => {
                const isSender = transaction.senderId === currentUser.id;
                const transactionItem = document.createElement('li');
                transactionItem.className = `transaction-item ${isSender ? 'debit' : 'credit'}`;
                
                const date = new Date(transaction.timestamp).toLocaleString('ru-RU');
                
                transactionItem.innerHTML = `
                    <div class="transaction-details">
                        <div class="transaction-text">
                            ${isSender ? 
                                `–ü–µ—Ä–µ–≤–æ–¥ –¥–ª—è ${transaction.recipientName}` : 
                                `–ü–µ—Ä–µ–≤–æ–¥ –æ—Ç ${transaction.senderName}`}
                            ${transaction.message ? ` (${transaction.message})` : ''}
                        </div>
                        <div class="transaction-time">${date}</div>
                    </div>
                    <div class="transaction-amount">
                        ${isSender ? '-' : '+'}${transaction.amount} ‚ÇΩ
                    </div>
                `;
                
                transactionsList.appendChild(transactionItem);
            });
        }

        function initUpgrades() {
            const upgradesContainer = document.getElementById('upgradesContainer');
            upgradesContainer.innerHTML = '';
            
            if (!currentUser) return;
            
            if (Array.isArray(currentUser.upgrades)) {
                const upgradesObj = {};
                currentUser.upgrades.forEach(id => {
                    upgradesObj[id] = 1;
                });
                currentUser.upgrades = upgradesObj;
                updateUserInStorage(currentUser.id, { upgrades: upgradesObj });
            }
            
            UPGRADES.forEach(upgrade => {
                const level = currentUser.upgrades[upgrade.id] || 0;
                const currentCost = Math.floor(upgrade.baseCost * Math.pow(upgrade.costMultiplier, level));
                const canAfford = currentUser.balance >= currentCost;
                const canUpgrade = level < upgrade.maxLevel;
                
                const upgradeElement = document.createElement('div');
                upgradeElement.className = `upgrade-item ${!canAfford || !canUpgrade ? 'disabled' : ''}`;
                upgradeElement.innerHTML = `
                    <div class="upgrade-name">${upgrade.name}</div>
                    <div class="upgrade-cost">–°—Ç–æ–∏–º–æ—Å—Ç—å: ${currentCost.toLocaleString('ru-RU')} ‚ÇΩ</div>
                    <div class="upgrade-income">+${upgrade.incomeIncrease} ${upgrade.type === 'click' ? '‚ÇΩ/–∫–ª–∏–∫' : '‚ÇΩ/—Å–µ–∫'}</div>
                    <div class="upgrade-level">–£—Ä–æ–≤–µ–Ω—å: ${level}/${upgrade.maxLevel}</div>
                    ${level > 0 ? `<div style="color: #4caf50; margin-top: 5px; font-size: 14px;">–ü—Ä–∏–Ω–æ—Å–∏—Ç: +${upgrade.incomeIncrease * level} ${upgrade.type === 'click' ? '‚ÇΩ/–∫–ª–∏–∫' : '‚ÇΩ/—Å–µ–∫'}</div>` : ''}
                `;
                
                if (canAfford && canUpgrade) {
                    upgradeElement.style.cursor = 'pointer';
                    upgradeElement.addEventListener('click', () => buyUpgrade(upgrade.id));
                }
                
                upgradesContainer.appendChild(upgradeElement);
            });
        }

        function buyUpgrade(upgradeId) {
            if (!currentUser) return;
            
            const upgrade = UPGRADES.find(u => u.id === upgradeId);
            if (!upgrade) return;
            
            const level = currentUser.upgrades[upgradeId] || 0;
            const currentCost = Math.floor(upgrade.baseCost * Math.pow(upgrade.costMultiplier, level));
            
            if (currentUser.balance < currentCost) {
                showNotification('–ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ —Å—Ä–µ–¥—Å—Ç–≤', 'error');
                return;
            }
            
            if (level >= upgrade.maxLevel) {
                showNotification('–î–æ—Å—Ç–∏–≥–Ω—É—Ç –º–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π —É—Ä–æ–≤–µ–Ω—å —É–ª—É—á—à–µ–Ω–∏—è', 'error');
                return;
            }
            
            const newBalance = currentUser.balance - currentCost;
            const newLevel = level + 1;
            
            const newUpgrades = { ...currentUser.upgrades };
            newUpgrades[upgradeId] = newLevel;
            
            let updates = {
                balance: newBalance,
                upgrades: newUpgrades
            };
            
            if (upgrade.type === 'click') {
                updates.incomePerClick = currentUser.incomePerClick + upgrade.incomeIncrease;
            } else {
                updates.passiveIncome = currentUser.passiveIncome + upgrade.incomeIncrease;
            }
            
            const updatedUser = updateUserInStorage(currentUser.id, updates);
            if (updatedUser) {
                const { password: _, ...userWithoutPassword } = updatedUser;
                currentUser = userWithoutPassword;
                
                showNotification(`–£–ª—É—á—à–µ–Ω–∏–µ "${upgrade.name}" –ø–æ–≤—ã—à–µ–Ω–æ –¥–æ —É—Ä–æ–≤–Ω—è ${newLevel}!`, 'success');
                updateUserData();
            }
        }

        function addClick() {
            if (!currentUser) return;
            
            const newBalance = currentUser.balance + currentUser.incomePerClick;
            const newClickCount = currentUser.clickCount + 1;
            
            const updatedUser = updateUserInStorage(currentUser.id, {
                balance: newBalance,
                clickCount: newClickCount
            });
            
            if (updatedUser) {
                const { password: _, ...userWithoutPassword } = updatedUser;
                currentUser = userWithoutPassword;
                updateUserData();
                
                const clickButton = document.getElementById('clickButton');
                clickButton.style.transform = 'scale(0.95)';
                setTimeout(() => {
                    clickButton.style.transform = 'scale(1)';
                }, 100);
            }
        }

        function transferMoney(recipientId, amount, message) {
            if (!currentUser) return false;
            
            if (currentUser.balance < amount) {
                showNotification('–ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ —Å—Ä–µ–¥—Å—Ç–≤', 'error');
                return false;
            }
            
            if (amount < 1) {
                showNotification('–°—É–º–º–∞ –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –±–æ–ª—å—à–µ 0', 'error');
                return false;
            }
            
            const sender = getUserFromStorage(currentUser.id);
            const recipient = getUserFromStorage(recipientId);
            
            if (!sender || !recipient) {
                showNotification('–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –Ω–∞–π–¥–µ–Ω', 'error');
                return false;
            }
            
            if (sender.id === recipient.id) {
                showNotification('–ù–µ–ª—å–∑—è –ø–µ—Ä–µ–≤–µ—Å—Ç–∏ –¥–µ–Ω—å–≥–∏ —Å–∞–º–æ–º—É —Å–µ–±–µ', 'error');
                return false;
            }
            
            const senderNewBalance = sender.balance - amount;
            const recipientNewBalance = recipient.balance + amount;
            
            updateUserInStorage(sender.id, { balance: senderNewBalance });
            updateUserInStorage(recipient.id, { balance: recipientNewBalance });
            
            const transaction = {
                senderId: sender.id,
                recipientId: recipient.id,
                senderName: sender.name,
                recipientName: recipient.name,
                amount,
                message
            };
            
            addTransactionToStorage(transaction);
            
            const updatedUser = getUserFromStorage(currentUser.id);
            if (updatedUser) {
                const { password: _, ...userWithoutPassword } = updatedUser;
                currentUser = userWithoutPassword;
            }
            
            showNotification(`–ü–µ—Ä–µ–≤–æ–¥ ${amount}‚ÇΩ –¥–ª—è ${recipient.name} –≤—ã–ø–æ–ª–Ω–µ–Ω —É—Å–ø–µ—à–Ω–æ!`, 'success');
            updateUserData();
            loadTransactions();
            clearSelection();
            
            return true;
        }

        function startPassiveIncome() {
            setInterval(() => {
                if (!currentUser || currentUser.passiveIncome <= 0) return;
                
                const newBalance = currentUser.balance + currentUser.passiveIncome;
                const updatedUser = updateUserInStorage(currentUser.id, { balance: newBalance });
                
                if (updatedUser) {
                    const { password: _, ...userWithoutPassword } = updatedUser;
                    currentUser = userWithoutPassword;
                    updateUserData();
                    
                    if (Math.random() > 0.97) {
                        showNotification(`–ü–∞—Å—Å–∏–≤–Ω—ã–π –¥–æ—Ö–æ–¥: +${currentUser.passiveIncome}‚ÇΩ`, 'info');
                    }
                }
            }, 1000);
        }

        function logout() {
            currentUser = null;
            selectedUser = null;
            localStorage.removeItem('currentUserId');
            mainInterface.style.display = 'none';
            authContainer.style.display = 'flex';
            
            loginForm.reset();
            registerForm.reset();
            showAuthForm('login');
        }

        // –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ —Å–æ–±—ã—Ç–∏–π
        loginForm.addEventListener('submit', (e) => {
            e.preventDefault();
            const name = document.getElementById('loginName').value.trim();
            const password = document.getElementById('loginPassword').value;
            loginUser(name, password);
        });

        registerForm.addEventListener('submit', (e) => {
            e.preventDefault();
            const name = document.getElementById('registerName').value.trim();
            const password = document.getElementById('registerPassword').value;
            const confirmPassword = document.getElementById('registerConfirmPassword').value;
            registerUser(name, password, confirmPassword);
        });

        document.getElementById('clickButton').addEventListener('click', addClick);

        document.getElementById('transferForm').addEventListener('submit', (e) => {
            e.preventDefault();
            
            const recipientId = document.getElementById('recipientId').value;
            const amount = parseInt(document.getElementById('amount').value);
            const message = document.getElementById('message').value;
            
            if (!recipientId) {
                showNotification('–°–Ω–∞—á–∞–ª–∞ –≤—ã–±–µ—Ä–∏—Ç–µ –ø–æ–ª—É—á–∞—Ç–µ–ª—è', 'error');
                return;
            }
            
            const success = transferMoney(recipientId, amount, message);
            if (success) {
                document.getElementById('transferForm').reset();
            }
        });

        // –ü–æ–∏—Å–∫ –ø–æ –Ω–∞–∂–∞—Ç–∏—é Enter
        document.getElementById('searchInput').addEventListener('keypress', (e) => {
            if (e.key === 'Enter') {
                e.preventDefault();
                searchUsers();
            }
        });

        // –ü—Ä–æ–≤–µ—Ä—è–µ–º —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—É—é —Å–µ—Å—Å–∏—é
        const savedUserId = localStorage.getItem('currentUserId');
        if (savedUserId) {
            const user = getUserFromStorage(savedUserId);
            if (user) {
                const { password: _, ...userWithoutPassword } = user;
                currentUser = userWithoutPassword;
                showMainInterface();
            }
        }

        // –ü–æ–∫–∞–∑–∞—Ç—å –≤—Å–µ –∫–æ–º–∞–Ω–¥—ã –≤ –∫–æ–Ω—Å–æ–ª–∏
        window.showMoneyCommands = function() {
            console.log('%c=== –ö–û–ú–ê–ù–î–´ –î–õ–Ø –î–û–ë–ê–í–õ–ï–ù–ò–Ø –î–ï–ù–ï–ì ===', 'color: #4fc3f7; font-size: 16px; font-weight: bold;');
            console.log('%caddMoney(—Å—É–º–º–∞) - –¥–æ–±–∞–≤–∏—Ç—å —É–∫–∞–∑–∞–Ω–Ω—É—é —Å—É–º–º—É', 'color: #4caf50;');
            console.log('%cadd1000() - –¥–æ–±–∞–≤–∏—Ç—å 1000 —Ä—É–±–ª–µ–π', 'color: #4caf50;');
            console.log('%cadd5000() - –¥–æ–±–∞–≤–∏—Ç—å 5000 —Ä—É–±–ª–µ–π', 'color: #4caf50;');
            console.log('%cadd10000() - –¥–æ–±–∞–≤–∏—Ç—å 10000 —Ä—É–±–ª–µ–π', 'color: #4caf50;');
            console.log('%cadd50000() - –¥–æ–±–∞–≤–∏—Ç—å 50000 —Ä—É–±–ª–µ–π', 'color: #4caf50;');
            console.log('%cmaxUpgrades() - –ø–æ–ª—É—á–∏—Ç—å –º–Ω–æ–≥–æ –¥–µ–Ω–µ–≥ –∏ –º–∞–∫—Å. —É–ª—É—á—à–µ–Ω–∏—è', 'color: #ff9800;');
            console.log('%cshowMoneyCommands() - –ø–æ–∫–∞–∑–∞—Ç—å —ç—Ç–æ—Ç —Å–ø–∏—Å–æ–∫ –∫–æ–º–∞–Ω–¥', 'color: #2196f3;');
            console.log('====================================');
            
            showNotification('–ö–æ–º–∞–Ω–¥—ã –ø–æ–∫–∞–∑–∞–Ω—ã –≤ –∫–æ–Ω—Å–æ–ª–∏ (F12)', 'info');
        };

        // –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ–∫–∞–∑—ã–≤–∞–µ–º –∫–æ–º–∞–Ω–¥—ã –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
        setTimeout(() => {
            console.log('%cüí∏ –î–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –¥–µ–Ω–µ–≥ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ:', 'color: #4fc3f7; font-size: 14px;');
            console.log('%c1. –ö–Ω–æ–ø–∫–∏ –Ω–∞–¥ –±–∞–ª–∞–Ω—Å–æ–º (+1–∫, +10–∫, üöÄ)', 'color: #4caf50;');
            console.log('%c2. –ö–æ–º–∞–Ω–¥—ã –≤ –∫–æ–Ω—Å–æ–ª–∏: showMoneyCommands()', 'color: #4caf50;');
        }, 2000);
    </script>
</body>
</html>

